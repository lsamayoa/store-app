'use strict';

// Users controller
angular.module('users').controller('UsersController', ['$scope', '$controller', 'Users', 'Authentication',
	function($scope, $controller, Users, Authentication) {
		/*   ' '''''''''=#= ' ''''-==*#######***===++* -'==+==**###**--+==============-'
		'''-''''''''''-*#'''''''--+*#######*******==*-''-*=*########+--===============+
		'''''''''' ''''#* ' '''''-'*####*====+=+======---**==********=-+===============
		'-'''''''-''''=#=  '' '''-*#*= -=-'---'-''''-=--+ -' ''''''  -++===============
		++=+++=++++--'=#= ''''''+*=  '-' '''  ' '''-*='+=-''  '    '    '========**=*==
		============+-*# -+='''=+   -  '''-=''' ''''##=-*  ''''      '    =*===*******=
		=============+##=-'-'-+    '   ''=##=''' ''-*#=-='  '=*+    '      =*===****=*=
		==============#==#**--     ' ''-+=*=-''''''+*='-+=--'-=#'       ' ' =*==*******
		==============-*###-+       '-=**##**======*=-'-++==++==*=          '=***=*****
		==============*###++       '--++==+==+===****-=-----==*=+    '       '*********
		==============###==         '-+==     ''=###*=''==-=+*##==+'-+      ' =********
		=============*##*+'    '    ''--+-   '''=****+   -'  +=*=+-'''         =*******
		============*###--      '    ''--+'  '+=****'         '-++-'-   '  ''   *******
		*===========###=+ '         '  '-++  =***#=             -  -'     '  '  =******
		*===*======####-               ''-++*****-               '---       '''' =*****
		**=****===*###='     '   -+++--''--+-***'-               ' ++-      ''''  *****
		***=***==*###*' ' '     ''''-++++++--===   ''''-''''-''''''+**+     '-'--'=****
		**=*****=##*=         '' '+=====+--'''  '     '  '  '''-''         '-+==-'=****
		**=*******='''   ' '  ' ''-+++-''''''    ''        '-+--         '  ''-+-=*****
		**=*****=*=+-''''''   '----+++--''''''    ''    ---' '-='         ''-===*******
		******=-=*==+''-'' '''-++++====+--'''  '  '    -  '+-+*#=   ' -'+====**********
		**=***=====-''''--'''-+==========+---''''''''   ' '-+=*##= ' ''-+=====***======
		#* -U *****==-''-'''''-===*****======+++++----''''+=***===  ''' ' '++==*==++-++
		#*******==++---'-'''''' '-==*###**===========+----=*##*='  ' ' '  ''''+=======+
		*===*======####-*===*-#### LUKE I AM YOUR FATHER ####-*===*======####-*=====#*/
		$controller('CrudController', {$scope: $scope, $datasource: Users});

		$scope.authentication = Authentication;
		var superFindOne = $scope.findOne;
		$scope.findOne = function (userId) {
			return superFindOne(userId).then(function () {
				delete $scope.user.password;
			});
		}
	}
]);